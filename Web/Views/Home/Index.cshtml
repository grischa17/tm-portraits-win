@model List<TuRM.Portrait.ViewModels.Product.Product>
@{
    ViewBag.Title = "Porträt vom Foto. Die Geschnekidee mit Errinnerungswert.";
}

@section Head{
    <meta name="description" content="Handgezeichnetes Porträt vom Foto. Schenken Sie Erinnerung. Portraits schon ab 60,- €" />
    <meta name="keywords" content="geschenke, geschenkideen, geschenk, geschenkidee, schenken, geschenk ideen, ausgefallene geschenke, geschenk idee">
}
<div class="container">
    <a href="/Request/Create" role="button" class="btn btn-danger btn-lg left-docked hidden-xs">Bestellen &#187;</a>
    <a href="/Request/Create" role="button" class="btn btn-danger left-docked visible-xs">Bestellen &#187;</a>
    <div class="carousel-label">
        <div class="row">
            <div class="col-xs-11 col-xs-offset-1 col-sm-8 col-sm-offset-4">
                <span class="author">Tamara Martens</span>
                <ul>
                    <li>Die <u>besondere</u> Geschenkidee für Geburtstage, Hochzeiten, Weinachten, Kommunion... und viele andere Anlässe</li>
                    <li>Liebevoll <u>handgezeichnete</u> Porträts nach Ihrer persönlichen Fotovorlage</li>
                    <li><u>Detaillierte</u> und <u>sorgfälltige</u> Arbeitsweise</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-galery">
            <div class="galery-wrapper">
                <button class="btn btn-lg" id="previous">&lt;</button>

                <div class="galery">
                    <ul>
                        <li><img src="~/Content/images/examples/bild1.jpg" alt="Beispiel 1" /></li>
                        <li><img src="~/Content/images/examples/bild2.jpg" alt="Beispiel 2" /></li>
                        <li><img src="~/Content/images/examples/bild3.jpg" alt="Beispiel 3" /></li>
                        <li><img src="~/Content/images/examples/bild5.jpg" alt="Beispiel 5" /></li>
                        <li><img src="~/Content/images/examples/bild6.jpg" alt="Beispiel 6" /></li>
                        <li><img src="~/Content/images/examples/bild7.jpg" alt="Beispiel 7" /></li>
                        <li><img src="~/Content/images/examples/bild8.jpg" alt="Beispiel 8" /></li>
                        <li><img src="~/Content/images/examples/bild9.jpg" alt="Beispiel 9" /></li>
                        <li><img src="~/Content/images/examples/bild10.jpg" alt="Beispiel 10" /></li>
                        <li><img src="~/Content/images/examples/bild11.jpg" alt="Beispiel 11" /></li>
                        <li><img src="~/Content/images/examples/bild12.jpg" alt="Beispiel 12" /></li>
                        <li><img src="~/Content/images/examples/bild13.jpg" alt="Beispiel 13" /></li>
                        <li><img src="~/Content/images/examples/bild14.jpg" alt="Beispiel 14" /></li>
                    </ul>
                </div>

                <button class="btn btn-lg" id="next">&gt;</button>
            </div>
        </div>
    </div>
</div>

<div class="container examples-container">
    <div class="row">
        <div class="col-sm-4">
            <ul class="tabs-buttons">
                <li><button id="pastbtn" class="btn">Pastell</button></li><li>
                    <button id="buntbtn" class="btn">Buntstift</button></li><li>
                    <button id="bleibtn" class="btn">Bleistift</button></li>
            </ul>
            <ul class="tabs-content">
                <li id="bleiimg"><img src="~/Content/images/Bleistift1.jpg" alt="Bleistift" /></li>
                <li id="buntimg"><img src="~/Content/images/Buntstift2.jpg" alt="Buntstift" /></li>
                <li id="pastimg"><img src="~/Content/images/Pastel3.jpg" alt="Pastel" /></li>
            </ul>
        </div>
        <div class="col-sm-4">
            <ul>
                <li>
                    <h4>Bleistifporträt</h4>
                    <p>Bei einer Bleistiftzeichnung arbeitet man mit Bleistiften verschiedener Grautöne.</p>
                </li>
                <li>
                    <h4>Buntstiftporträt</h4>
                    <p>Mit einer breiten Palette an farbigen Buntstiften kommt man der Vorlage erstaunlich nahe.</p>
                </li>
                <li>
                    <h4>Pastellporträt</h4>
                    <p>Leuchtende und lebendige Farben zeichnen ein Pastell-Porträt aus</p>
                </li>
            </ul>
        </div>
        <div class="col-sm-4">
            <a href="/Request/Create" role="button" class="btn btn-danger btn-lg">Bestellen &#187;</a>
        </div>
    </div>
</div>

@section Scripts{
    <script type="text/javascript">
        var oWrapper = $('.galery-wrapper')[0],
            oGalery = $('.galery')[0],
            oImages = $('.galery > ul > li > img');

        function getPreviousPos() {
            var pos,
                left,
                margin;

            for (var i = 0; i < oImages.length; i++) {
                if (!left) {
                    if (($(oImages[i]).offset().left - $(oGalery).offset().left) >= 0) {
                        //komplett sichtbar
                        left = -oGalery.clientWidth;
                        i = -1;
                    } else if (Math.abs($(oImages[i]).offset().left - $(oGalery).offset().left) < oImages[i].width) {
                        left = $(oImages[i < oImages.length ? i + 1 : i]).offset().left - $(oGalery).offset().left - oGalery.clientWidth;
                        i = -1;
                    }
                } else if (($(oImages[i]).offset().left - $(oGalery).offset().left) >= left) {
                    break;
                }
            }

            if (i == oImages.length) {
                return;
            }

            if (document.defaultView && document.defaultView.getComputedStyle) {
                margin = parseInt(document.defaultView.getComputedStyle(oImages[i].parentElement, "").getPropertyValue("margin-Left"));
            }

            pos = $(oImages[i]).offset().left - $(oGalery).offset().left;
            pos -= margin;
            pos = oGalery.scrollLeft + pos;
            return pos > 0 ? pos : 0;
        }

        function getNextPos() {
            var margin = 0,
                right,
                left;


            for (var i = 0; i < oImages.length; i++) {
                left = $(oImages[i]).offset().left - $(oGalery).offset().left;
                right = left + oImages[i].width;
                if (right > oGalery.clientWidth) {
                    break;
                }
            }
            if (i == oImages.length) {
                return;
            }

            if (document.defaultView && document.defaultView.getComputedStyle) {
                margin = parseInt(document.defaultView.getComputedStyle(oImages[i].parentElement, "").getPropertyValue("margin-Left"));
            }

            return oGalery.scrollLeft + left - margin;
        }

        if (getNextPos()) {
            $('#next').show();
        }

        $('#next').click(function (oEvent) {
            var pos = getNextPos();

            if (!pos) {
                return;
            }
            $(oGalery).animate({
                scrollLeft: pos
            },
            'slow',
            function () {
                if (!getNextPos()) {
                    $('#next').hide();
                }
                $('#previous').show();
            });
        });

        $('#previous').click(function (oEvent) {
            var pos = getPreviousPos();

            if (pos == oGalery.scrollLeft) {
                return;
            }

            $(oGalery).animate({
                scrollLeft: pos
            },
                        'slow',
                        function () {
                            if (!oGalery.scrollLeft) {
                                $('#previous').hide();
                            }
                            $('#next').show();
                        });
        });

        function initTabs() {
            var oTabPages = $('.tabs-content > li'),
                oSelectedPage = oTabPages.filter(function () {
                    return $(this).css('z-index') == 3;
                })[0];

            oSelectedPage.originalSize = {
                width: $(oSelectedPage.firstChild).width(),
                height: $(oSelectedPage.firstChild).height()
            };

            for (var i = 0, j = 0; i < oTabPages.length; i++) {
                if (oTabPages[i] != oSelectedPage) {
                    oTabPages[i].originalSize = {
                        width: $(oTabPages[i].firstChild).width(),
                        height: $(oTabPages[i].firstChild).height()
                    };
                    $(oTabPages[i].firstChild).css("margin-left", ++j * 10);
                    $(oTabPages[i].firstChild).css("margin-top", j * 10);
                    $(oTabPages[i].firstChild).width($(oSelectedPage.firstChild).width());
                    $(oTabPages[i].firstChild).height($(oSelectedPage.firstChild).height());
                }
            }
        }

        initTabs();

        $('.tabs-buttons > li > button').click(function (oEvent) {
            var oTabPages = $('.tabs-content > li'),
                oSelectedPage = $('#' + oEvent.target.id.substring(0,4) + 'img')[0];

            $(oSelectedPage.firstChild).animate({
                width: oSelectedPage.originalSize.width
            }, 'slow');
            $(oSelectedPage.firstChild).animate({
                height: oSelectedPage.originalSize.height
            }, 'slow');
            //$(oSelectedPage.firstChild).width(oSelectedPage.originalSize.width);
            //$(oSelectedPage.firstChild).height(oSelectedPage.originalSize.height);
            $(oSelectedPage.firstChild).css("margin-left", 0);
            $(oSelectedPage.firstChild).css("margin-top", 0);
            $(oSelectedPage).css('z-index', 3);

            for (var i = 0, j = 0; i < oTabPages.length; i++) {
                if (oTabPages[i] != oSelectedPage) {
                    $(oTabPages[i].firstChild).css("margin-left", ++j * 10);
                    $(oTabPages[i].firstChild).css("margin-top", j * 10);

                    $(oTabPages[i].firstChild).animate({
                        width: oSelectedPage.originalSize.width
                    }, 'slow');
                    $(oTabPages[i].firstChild).animate({
                        height: oSelectedPage.originalSize.height
                    }, 'slow');

                    //$(oTabPages[i].firstChild).width($(oSelectedPage.firstChild).width());
                    //$(oTabPages[i].firstChild).height($(oSelectedPage.firstChild).height());
                    $(oTabPages[i]).css('z-index', 3 - j);

                }
            }
        });
    </script>
}